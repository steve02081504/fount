<!DOCTYPE html>
<html data-theme="dark">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>fount!</title>
	<link href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.min.css" rel="stylesheet" type="text/css" />
	<script src="https://cdn.tailwindcss.com"></script>
	<script>
		const is_dark = Boolean(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)
		document.documentElement.setAttribute('data-theme', is_dark ? 'dark' : 'light')

		const urlParams = new URLSearchParams(window.location.search)
		const hostUrl = urlParams.get('hostUrl') ?? localStorage.getItem('fountHostUrl')
		const fountProtocolUrl = urlParams.get('url')

		if (fountProtocolUrl && hostUrl) {
			const redirectUrl = `${hostUrl}/protocolhandler?url=${fountProtocolUrl}`
			window.location.href = redirectUrl
		}
		else if (hostUrl) {
			localStorage.setItem('fountHostUrl', hostUrl)
			window.location.href = `${hostUrl}/shells/home`
		}
		else
			window.location.href = 'https://github.com/steve02081504/fount'
	</script>
</head>

<body class="bg-base-200">
	<div class="flex justify-center items-center h-screen">
		<p class="text-lg">Loading...</p>
	</div>
</body>

</html>
