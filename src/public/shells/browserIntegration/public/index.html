<!DOCTYPE html>
<html data-theme="dark">

<head>
	<meta charset="UTF-8">
	<meta name="darkreader-lock">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="fount Browser Integration: Connect Your Worlds" />
	<meta property="og:type" content="website" />
	<meta property="og:description" content="Bridge the gap between fount and the web. This page provides the userscript to enable seamless integration, bringing your AI companions into your browsing experience." />
	<meta name="description" content="Bridge the gap between fount and the web. This page provides the userscript to enable seamless integration, bringing your AI companions into your browsing experience." />
	<meta property="og:image" content="https://repository-images.githubusercontent.com/862251163/0ac90205-ae40-4fc6-af67-1e28d074c76b">
	<title data-i18n="browser_integration.title"></title>
	<link rel="icon" href="/favicon.ico">
	<link rel="icon" href="/favicon.svg" type="image/svg+xml">
	<link href="https://cdn.jsdelivr.net/npm/daisyui/daisyui.css" rel="stylesheet" type="text/css" crossorigin="anonymous" />
	<link href="/base.css" rel="stylesheet" type="text/css" crossorigin="anonymous" />
	<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime" crossorigin="anonymous"></script>
	<script blocking="render" type="module" src="/preload.mjs"></script>
	<script type="module" src="/base.mjs"></script>
</head>

<body class="p-4 md:p-8 bg-base-200">
	<div class="container mx-auto">
		<div class="prose mb-4">
			<h1 data-i18n="browser_integration.pageHeader" class="text-3xl"></h1>
			<p data-i18n="browser_integration.pageDescription"></p>
		</div>

		<div class="grid md:grid-cols-2 gap-6">
			<!-- Left Column -->
			<div class="flex flex-col gap-6">
				<div class="card bg-base-100 shadow-xl">
					<div class="card-body">
						<h2 class="card-title" data-i18n="browser_integration.install_script_title"></h2>
						<p data-i18n="browser_integration.install_script_description"></p>
						<div class="card-actions justify-end">
							<a href="/shells/browserIntegration/script.user.js" class="btn btn-primary" data-i18n="browser_integration.install_button"></a>
						</div>
						<div class="form-control mt-4">
							<p data-i18n="browser_integration.install_from_url_tip"></p>
							<div class="join w-full mt-2">
								<input type="text" readonly class="input input-bordered join-item w-full" id="script-url-input" />
								<button class="btn btn-primary join-item" id="copy-script-url-button" data-i18n="browser_integration.copy_button"></button>
							</div>
						</div>
					</div>
				</div>

				<div class="alert alert-info">
					<img src="https://api.iconify.design/line-md/alert-circle.svg" class="stroke-current shrink-0 w-6 h-6" />
					<span data-i18n="browser_integration.csp_warning"></span>
				</div>
			</div>

			<!-- Right Column -->
			<div class="card bg-base-100 shadow-xl">
				<div class="card-body">
					<h2 class="card-title" data-i18n="browser_integration.connected_pages_title"></h2>
					<div id="connected-pages-list" class="overflow-x-auto">
						<!-- Content will be rendered here by JS -->
					</div>
				</div>
			</div>
		</div>

		<!-- Auto-run Scripts Manager -->
		<div class="card bg-base-100 shadow-xl mt-6">
			<div class="card-body">
				<h2 class="card-title" data-i18n="browser_integration.autorun.title"></h2>
				<p class="text-sm opacity-70" data-i18n="browser_integration.autorun.description"></p>

				<!-- Add/Edit Form -->
				<form id="autorun-script-form" class="mt-4 p-4 border border-base-300 rounded-lg">
					<h3 class="font-bold mb-2" data-i18n="browser_integration.autorun.form_title"></h3>
					<div class="grid md:grid-cols-2 gap-4">
						<div class="form-control">
							<label class="label"><span class="label-text" data-i18n="browser_integration.autorun.url_regex_label"></span></label>
							<input type="text" id="autorun-url-regex" class="input input-bordered" placeholder="https://www.google.com/.*" required />
						</div>
						<div class="form-control">
							<label class="label"><span class="label-text" data-i18n="browser_integration.autorun.comment_label"></span></label>
							<input type="text" id="autorun-comment" class="input input-bordered" placeholder="e.g., Google search helper" />
						</div>
					</div>
					<div class="form-control mt-4">
						<label class="label"><span class="label-text" data-i18n="browser_integration.autorun.script_label"></span></label>
						<textarea id="autorun-script" class="textarea textarea-bordered font-mono" rows="6" placeholder="console.log('Hello from fount!');" required></textarea>
					</div>
					<div class="card-actions justify-end mt-4">
						<button type="submit" class="btn btn-primary" data-i18n="browser_integration.autorun.add_button"></button>
					</div>
				</form>

				<!-- Script List -->
				<div class="mt-6">
					<h3 class="font-bold mb-2" data-i18n="browser_integration.autorun.list_title"></h3>
					<div id="autorun-script-list" class="overflow-x-auto">
						<!-- Script table will be rendered here -->
					</div>
				</div>
			</div>
		</div>


		<div id="userscript-manager-instructions">
			<div class="divider my-8"></div>
			<div class="prose">
				<h3 data-i18n="browser_integration.what_is_manager"></h3>
				<p data-i18n="browser_integration.manager_explanation"></p>
				<h4 data-i18n="browser_integration.popular_managers"></h4>
				<div class="flex gap-2 flex-wrap">
					<a href="https://www.tampermonkey.net/" target="_blank" rel="noopener" class="btn">Tampermonkey</a>
					<a href="https://www.greasespot.net/" target="_blank" rel="noopener" class="btn">Greasemonkey</a>
					<a href="https://violentmonkey.github.io/" target="_blank" rel="noopener" class="btn">Violentmonkey</a>
				</div>
			</div>
		</div>
	</div>

	<!-- View Script Modal -->
	<dialog id="view-script-modal" class="modal">
		<div class="modal-box w-11/12 max-w-5xl">
			<h3 id="view-script-modal-title" class="font-bold text-lg"></h3>
			<div class="mt-4 bg-base-200 p-4 rounded-lg">
				<pre><code id="view-script-modal-content" class="font-mono text-sm"></code></pre>
			</div>
			<div class="modal-action">
				<form method="dialog">
					<button class="btn" data-i18n="browser_integration.autorun.view_script_modal_close_button"></button>
				</form>
			</div>
		</div>
	</dialog>

	<script type="module" src="/shells/browserIntegration/index.mjs"></script>
</body>

</html>
